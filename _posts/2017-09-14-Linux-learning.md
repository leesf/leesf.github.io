---
title: Linux-Linux学习笔记
date: 2017-09-14 19:18:16
categories:
- technique
tags:
- Linux
- System
---

## 前言
> 在工作中发现`Linux`系统的重要性，于是计划重温下`Linux`，顺便记录笔记方便之后查阅。

## 磁盘分区

* 在`Linux`系统中，每个设备都被当成一个文件来对待；如`IDE`接口的硬盘文件名为`/dev/hd[a-d]`。
* 磁盘的第一个扇区记录了`主引导分区(MBR)`和`分区表`；`主引导分区`可以安装引导加载程序的地方，有`446bytes`，系统开机时会主动读取`MBR`区块的内容；`分区表`记录硬盘分区状态，有`64bytes`。
* 磁盘分区是对`分区表`进行设置，默认分区表仅能写入四组分区信息，四组分区信息称为`主或扩展分区`。
* 使用扩展分区划分出来的为`逻辑分区`，其编号从`5`开始，如`/dev/hda5/`、`/dev/hda6`...。前四个分区号均保留。
* `主与扩展分区最多有4个``扩展分区`最多只有1个，`逻辑分区`是由扩展分区分割出来的分区，只有`主分区`和`逻辑分区`能够被格式化，`扩展分区`不能。
* 若`扩展分区`被破坏，所有`逻辑分区`将会被删除。
* `BIOS`是写入到硬件上的程序，其会根据用户设置取得能够开机的硬盘，并且到该硬盘下读取第一个扇区的`MBR`位置，`MBR`中存放了最基本的引导加载程序，接下来由`引导加载程序(boot loader)`加载内核文件，然后内核文件开始操作系统的功能。
* `引导加载程序`主要提供三个服务：
	* 提供菜单：可选择不同开机选项，是多重引导的重要功能。
	* 载入内核文件：指向可开机的程序区段来开始操作系统。
	* 转交其他loader：将引导加载功能转交给其他loader负责。

* `引导加载程序`除了可以安装在`MBR`外，还可以安装在每个分区的`引导扇区`。
* 每个分区拥有自己的`启动扇区`，实际可开机的内核文件放置在各分区内，loader只认识自己系统分区内的可开机内核文件以及其他loader，loader可直接指向或间接将管理权转交给另一个管理程序。

## 系统登录

* `Linux`默认提供`6`个`Terminal`供用于登录，切换方式为`Ctrl+Alt+[F1-F6]`，名称分别为`tty1-tty6`，使用`Ctrl+Alt+F7`可切换至图形界面。
* 若以纯文本环境启动`Linux`，若想启动图形界面，可使用`startx`命令启动图形界面。
* 使用`man + 命令`可查看帮助，如`man date`。
* 使用`shutdown`命令关机，如`shutdown -h now`表示现在关机，`shutdown -h 20:25`表示`20:25`关机。

## 文件权限和目录配置

![Markdown](http://i1.bvimg.com/607346/d366183dc6a80131.png)

> 分为七列，分别代表`文件权限`、`连接数`、`文件所有者`、`文件所属用户组`、`文件大小`、`文件最后被修改的时间`、`文件名`。

* 第一列做如下划分：
	* 第一个字符若为`d`，则表示目录，若为`-`，则表示文件，若为`|`，则表示为连接文件(linkfile)、若为`b`，表示设备文件里的可供存储的接口设备、若为`c`，表示设备文件里的串行端口设备，如键盘鼠标等。
	* 接下来三个字符为一组，可分为三组，且均为`rwx`组合，`r`代表可读，`w`代表可写，`x`代表可执行，其位置不会变化，若无权限，则为`-`；第一组为`文件所有者的权限`、第二组为`同用户组的权限`、第三组为`其他非本用户组的权限`。
* `chgrp`改变文件所属用户组；`chown`改变文件所有者；`chmod`改变文件权限。在改变时发现无权限可以使用`sudo ch***`试试。
* 改变所有者可使用`chown user:group ***`的格式，如`chown root:root log.log`将`log.log`改为`root`组下的`root`帐号。
* `r:4;w:2;x:1`，可使用数字更改权限属性，权限分为三组，分别对应`owner`、`group`、`others`，如`chmod 777 .bashrc`表示`owner、group、others`都具有读写执行权限。
* 可使用`chmod u=rwx,go=rx .bashrc`更改权限，`owner`具有读写执行权限；`group`和`others`具有读写权限。
* 能否进入某个目录，只与该目录的`x`权限有关，若具有权限，则可进入，否则不可进入。
* 单一文件或目录的最大容许文件名为`255`个字符，包含完整路径名称及目录/的完整文件名为`4096`个字符。
* 可使用`mkdir -p test/test/test/test`一次性创建所有的目录。


## 文件与目录管理

* 使用`cp -r dir1 dir2/`将`dir1`目录复制到`dir2`目录下。
* 使用`mv test1 test2`将`test1`更名为`test2`。
* `cat`、`more`、`less`、`head`、`tail`可查看文件。
* `tail -f filename`，可查看`filename`不断新增的内容。 

## 磁盘与文件系统管理

* `扇区`是最小的物理存储单位，大小为`512bytes`，`扇区`组成`柱面`，`柱面`是`分区`的最小单位。
* `挂载点`一定是目录，该目录为进入该文件系统的入口。 
* 可使用`df`命令查看磁盘的使用情况。

## 文件与文件系统压缩和打包

* 使用`tar -zcvf git.tar.gz git/`命令压缩`git`目录至`git.tar.gz`。
* 使用`tar -zxvf git.tar.gz`命令解压缩`git.tar.gz`至本目录下。

## Vim编辑器

* `G(Shift+g)`移动到最后一行，`gg`移动到第一行。
* `dd`删除光标所在的一整行。
* `x`向后删除一个字符(`Del`)，`X`向前删除一个字符(`Backspace`)。

